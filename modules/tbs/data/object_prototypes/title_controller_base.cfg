{
	id: "title_controller_base",
	prototype: ["matchmaking_base"],

	properties: {
		_removed_widgets: { type: "[custom_obj]", default: [] },

		return_to_titlescreen: "def() ->commands execute(me,
			teleport('titlescreen.cfg', '', 'instant')
		)",
		
		show_reconnection_dialog: "def(int game_port, int game_id, int game_session) ->commands
		execute(me,
		[
			object('modal_message_dialog', {
				_exclude_from_pause: [me],
				message: 'You disconnected from a game. Do you want to reconnect?',
				buttons: [{
					text: 'Reconnect',
					callback: (def() ->commands join_game(string<- TBS_SERVER_ADDRESS, game_port, game_session)),
				}, {
					text: 'Abandon',
					callback: (def() ->commands concede_game(string<- TBS_SERVER_ADDRESS, game_port, game_session)),
				}
				]
			}).show_dialog()
		])",

		join_game: "def(string host, int port, int|null session_id_override=null) ->commands null",
		concede_game: "def(string host, int port, int session_id) ->commands null",		

		request_observe_game: "def(string username) ->commands null",
		observe_game: "def(GameServer server, string|null username=null, int|null session_override=null) -> commands null",

		click_challenge: "def(string username) ->commands null",
	},
}
